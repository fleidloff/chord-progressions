!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=10)}([function(t,e,n){"use strict";t.exports={notes:{c:[0,0],d:[-1,2],e:[-2,4],f:[1,-1],g:[0,1],a:[-1,3],b:[-2,5],h:[-2,5]},intervals:{unison:[0,0],second:[3,-5],third:[2,-3],fourth:[1,-1],fifth:[0,1],sixth:[3,-4],seventh:[2,-2],octave:[1,0]},intervalFromFifth:["second","sixth","third","seventh","fourth","unison","fifth"],intervalsIndex:["unison","second","third","fourth","fifth","sixth","seventh","octave","ninth","tenth","eleventh","twelfth","thirteenth","fourteenth","fifteenth"],fifths:["f","c","g","d","a","e","b"],accidentals:["bb","b","","#","x"],sharp:[-4,7],A4:[3,3],durations:{.25:"longa",.5:"breve",1:"whole",2:"half",4:"quarter",8:"eighth",16:"sixteenth",32:"thirty-second",64:"sixty-fourth",128:"hundred-twenty-eighth"},qualityLong:{P:"perfect",M:"major",m:"minor",A:"augmented",AA:"doubly augmented",d:"diminished",dd:"doubly diminished"},alterations:{perfect:["dd","d","P","A","AA"],minor:["dd","d","m","M","A","AA"]},symbols:{min:["m3","P5"],m:["m3","P5"],"-":["m3","P5"],M:["M3","P5"],"":["M3","P5"],"+":["M3","A5"],aug:["M3","A5"],dim:["m3","d5"],o:["m3","d5"],maj:["M3","P5","M7"],dom:["M3","P5","m7"],"ø":["m3","d5","m7"],5:["P5"]},chordShort:{major:"M",minor:"m",augmented:"aug",diminished:"dim","half-diminished":"7b5",power:"5",dominant:"7"},stepNumber:{unison:1,first:1,second:2,third:3,fourth:4,fifth:5,sixth:6,seventh:7,octave:8,ninth:9,eleventh:11,thirteenth:13},intervalSolfege:{dd1:"daw",d1:"de",P1:"do",A1:"di",AA1:"dai",d2:"raw",m2:"ra",M2:"re",A2:"ri",AA2:"rai",d3:"maw",m3:"me",M3:"mi",A3:"mai",dd4:"faw",d4:"fe",P4:"fa",A4:"fi",AA4:"fai",dd5:"saw",d5:"se",P5:"so",A5:"si",AA5:"sai",d6:"law",m6:"le",M6:"la",A6:"li",AA6:"lai",d7:"taw",m7:"te",M7:"ti",A7:"tai",dd8:"daw",d8:"de",P8:"do",A8:"di",AA8:"dai"}}},function(t,e,n){"use strict";function r(t){if(!(this instanceof r))return new r(t);this.coord=t}var i=n(0),o=n(7),a=n(16);r.prototype={name:function(){return i.intervalsIndex[this.number()-1]},semitones:function(){return o.sum(o.mul(this.coord,[12,7]))},number:function(){return Math.abs(this.value())},value:function(){var t=Math.floor((this.coord[1]-2)/7)+1,e=o.mul(i.sharp,t),n=o.sub(this.coord,e),r=i.intervalFromFifth[n[1]+5],a=n[0]-i.intervals[r][0],s=i.stepNumber[r]+7*a;return s>0?s:s-2},type:function(){return i.intervals[this.base()][0]<=1?"perfect":"minor"},base:function(){var t=o.mul(i.sharp,this.qualityValue()),e=o.sub(this.coord,t)[1];e=this.value()>0?e+5:-(e-5)%7,e=e<0?i.intervalFromFifth.length+e:e;var n=i.intervalFromFifth[e];return"unison"===n&&this.number()>=8&&(n="octave"),n},direction:function(t){if(t){return(this.value()>=1?"up":"down")!==t&&(this.coord=o.mul(this.coord,-1)),this}return this.value()>=1?"up":"down"},simple:function(t){var e=i.intervals[this.base()],n=o.mul(i.sharp,this.qualityValue());return e=o.add(e,n),t||(e="down"===this.direction()?o.mul(e,-1):e),new r(e)},isCompound:function(){return this.number()>8},octaves:function(){var t,e,n;return"up"===this.direction()?(t=o.mul(i.sharp,this.qualityValue()),e=o.sub(this.coord,t),n=e[0]-i.intervals[this.base()][0]):(t=o.mul(i.sharp,-this.qualityValue()),e=o.sub(this.coord,t),n=-(e[0]+i.intervals[this.base()][0])),n},invert:function(){var t=this.base(),e=this.qualityValue(),n="minor"===this.type()?-(e-1):-e,a=9-i.stepNumber[t]-1,s=i.intervals[i.intervalsIndex[a]];return s=o.add(s,o.mul(i.sharp,n)),new r(s)},quality:function(t){var e=i.alterations[this.type()][this.qualityValue()+2];return t?i.qualityLong[e]:e},qualityValue:function(){return"down"===this.direction()?Math.floor((-this.coord[1]-2)/7)+1:Math.floor((this.coord[1]-2)/7)+1},equal:function(t){return this.coord[0]===t.coord[0]&&this.coord[1]===t.coord[1]},greater:function(t){var e=this.semitones(),n=t.semitones();return e===n?this.number()>t.number():e>n},smaller:function(t){return!this.equal(t)&&!this.greater(t)},add:function(t){return new r(o.add(this.coord,t.coord))},toString:function(t){var e=t?this.number():this.value();return this.quality()+e}},r.toCoord=function(t){var e=a(t);if(!e)throw new Error("Invalid simple format interval");return new r(e)},r.from=function(t,e){return t.interval(e)},r.between=function(t,e){return new r(o.sub(e.coord,t.coord))},r.invert=function(t){return r.toCoord(t).invert().toString()},t.exports=r},function(t,e,n){"use strict";function r(t){return t[Math.floor(Math.random()*t.length)]}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r},function(t,e,n){"use strict";function r(t,e){if("string"==typeof t)return l.toCoord(t);if("string"==typeof e&&t instanceof u)return l.from(t,l.toCoord(e));if(e instanceof l&&t instanceof u)return l.from(t,e);if(e instanceof u&&t instanceof u)return l.between(t,e);throw new Error("Invalid parameters")}function i(t,e){return"string"==typeof t?u.fromString(t,e):new u(t,e)}function o(t,e){if("string"==typeof t){var n,r;if((n=t.match(/^([a-h])(x|#|bb|b?)/i))&&n[0])return r="number"==typeof e?e.toString(10):"4",new c(u.fromString(n[0].toLowerCase()+r),t.substr(n[0].length))}else if(t instanceof u)return new c(t,e);throw new Error("Invalid Chord. Couldn't find note name")}function a(t,e){return t=t instanceof u?t:s.note(t),new h(t,e)}var s,u=n(4),l=n(1),c=n(17),h=n(19);r.toCoord=l.toCoord,r.from=l.from,r.between=l.between,r.invert=l.invert,i.fromString=u.fromString,i.fromKey=u.fromKey,i.fromFrequency=u.fromFrequency,i.fromMIDI=u.fromMIDI,s={note:i,chord:o,interval:r,scale:a,Note:u,Chord:c,Scale:h,Interval:l},n(20)(s),t.exports=s},function(t,e,n){"use strict";function r(t,e,n){for(;n>0;n--)t+=e;return t}function i(t,e){if(!(this instanceof i))return new i(t,e);e=e||{},this.duration={value:e.value||4,dots:e.dots||0},this.coord=t}var o=n(13),a=n(14),s=n(15),u=n(0),l=n(7),c=n(1);i.prototype={octave:function(){return this.coord[0]+u.A4[0]-u.notes[this.name()][0]+4*this.accidentalValue()},name:function(){var t=this.accidentalValue(),e=this.coord[1]+u.A4[1]-7*t+1;return u.fifths[e]},accidentalValue:function(){return Math.round((this.coord[1]+u.A4[1]-2)/7)},accidental:function(){return u.accidentals[this.accidentalValue()+2]},key:function(t){return t?7*this.coord[0]+4*this.coord[1]+29:12*this.coord[0]+7*this.coord[1]+49},midi:function(){return this.key()+20},fq:function(t){return s(this.coord,t)},chroma:function(){var t=(l.sum(l.mul(this.coord,[12,7]))-3)%12;return t<0?t+12:t},interval:function(t){return"string"==typeof t&&(t=c.toCoord(t)),t instanceof c?new i(l.add(this.coord,t.coord),this.duration):t instanceof i?new c(l.sub(t.coord,this.coord)):void 0},transpose:function(t){return this.coord=l.add(this.coord,t.coord),this},helmholtz:function(){var t=this.octave(),e=this.name();e=t<3?e.toUpperCase():e.toLowerCase();var n=t<3?",":"'",i=t<2?2-t:t-3;return r(e+this.accidental(),n,i)},scientific:function(){return this.name().toUpperCase()+this.accidental()+this.octave()},enharmonics:function(t){var e=this.key(),n=t?2:3;return["m3","m2","m-2","m-3"].map(this.interval.bind(this)).filter(function(t){var r=t.accidentalValue(),i=e-(t.key()-r);if(i<n&&i>-n){var o=l.mul(u.sharp,i-r);return t.coord=l.add(t.coord,o),!0}})},solfege:function(t,e){var n,i,o,a=t.tonic.interval(this);return"down"===a.direction()&&(a=a.invert()),e&&(o=(this.key(!0)-t.tonic.key(!0))/7,o=o>=0?Math.floor(o):-Math.ceil(-o),i=o>=0?"'":","),n=u.intervalSolfege[a.simple(!0).toString()],e?r(n,i,Math.abs(o)):n},scaleDegree:function(t){var e=t.tonic.interval(this);return("down"===e.direction()||0===e.coord[1]&&0!==e.coord[0])&&(e=e.invert()),e=e.simple(!0).coord,t.scale.reduce(function(t,n,r){var i=c.toCoord(n).coord;return i[0]===e[0]&&i[1]===e[1]?r+1:t},0)},durationName:function(){return u.durations[this.duration.value]},durationInSeconds:function(t,e){var n=60/t/(this.duration.value/4)/(e/4);return 2*n-n/Math.pow(2,this.duration.dots)},toString:function(t){return this.name()+this.accidental()+(t?"":this.octave())}},i.fromString=function(t,e){var n=o(t);return n||(n=a(t)),new i(n,e)},i.fromKey=function(t){var e=Math.floor((t-4)/12),n=t-12*e-4,r=u.fifths[(2*Math.round(n/2)+1)%7],o=l.sub(u.notes[r],u.A4),a=l.add(o,[e+1,0]),s=t-49-l.sum(l.mul(a,[12,7]));return new i(s?l.add(a,l.mul(u.sharp,s)):a)},i.fromFrequency=function(t,e){var n,r,o;return e=e||440,n=49+(Math.log(t)-Math.log(e))/Math.log(2)*12,n=Math.round(n),o=e*Math.pow(2,(n-49)/12),r=Math.log(t/o)/Math.log(2)*1200,{note:i.fromKey(n),cents:r}},i.fromMIDI=function(t){return i.fromKey(t-20)},t.exports=i},function(t,e,n){"use strict";var r={c:[0,0],d:[-1,2],e:[-2,4],f:[1,-1],g:[0,1],a:[-1,3],b:[-2,5],h:[-2,5]};t.exports=function(t){return t in r?[r[t][0],r[t][1]]:null},t.exports.notes=r,t.exports.A4=[3,3],t.exports.sharp=[-4,7]},function(t,e,n){"use strict";var r={bb:-2,b:-1,"":0,"#":1,x:2};t.exports=function(t){return r[t]},t.exports.interval=function(t){var e=r[t];return[-4*e,7*e]}},function(t,e,n){"use strict";t.exports={add:function(t,e){return[t[0]+e[0],t[1]+e[1]]},sub:function(t,e){return[t[0]-e[0],t[1]-e[1]]},mul:function(t,e){return"number"==typeof e?[t[0]*e,t[1]*e]:[t[0]*e[0],t[1]*e[1]]},sum:function(t){return t[0]+t[1]}}},function(t,e,n){"use strict";function r(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}var i=n(9),o={"":["M3","P5"],m:["m3","P5"],aug:["M3","A5"],dim:["m3","d5"],sus2:["M2","P5"],sus4:["P4","P5"],"sus2#5":["M2","A5"],sus2b5:["M2","d5"],"sus4#5":["P4","A5"],sus4b5:["P4","d5"],Mb5:["M3","d5"],"m#5":["m3","A5"]};t.exports=function(t){var e,n,a,s,u=[],l=[],c=[],h=[];return t.forEach(function(t){-1===c.indexOf(t.toString(!0))&&(h.push(t),c.push(t.toString(!0)))}),i.k_combinations(h,3).forEach(function(t){i.permutate(t).forEach(function(t){u.push(t)})}),u.filter(function(t){return t[0].name()!==t[1].name()&&t[0].name()!==t[2].name()&&t[1].name()!==t[2].name()&&Math.abs(t[0].accidentalValue())<2&&Math.abs(t[1].accidentalValue())<3&&Math.abs(t[2].accidentalValue())<3}).forEach(function(t){e=t[0],n=e.interval(t[1]),n="down"===n.direction()?n.invert().simple(!0):n.simple(),a=e.interval(t[2]),a="down"===a.direction()?a.invert().simple(!0):a.simple(),n=n.toString(),a=a.toString();for(s in o)r(o[s],[n,a])&&l.push({notes:t,type:s})}),l}},function(t,e,n){"use strict";e.k_combinations=function t(e,n){var r,i,o,a,s,u=[],l=e.length;if(n>l||n<=0)return u;if(n===l)return[e];if(1===n)return e.map(function(t){return[t]});for(r=0;r<l-n+1;r++)for(o=[e[r]],a=t(e.slice(r+1),n-1),i=0,s=a.length;i<s;i++)u.push(o.concat(a[i]));return u},e.permutate=function(t){function e(t,n,r){function i(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}if(n==t.length-1)r(t);else{e(t,n+1,r);for(var o=n+1;o<t.length;o++)i(t,o,n),e(t,n+1,r),i(t,o,n)}}if(!t||!t.length)return[];var n=[];return e(t,0,function(t){n.push(t.slice(0))}),n}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function o(t){var e=t.note,n=t.scale,r=(0,d.default)(e,n,4);(0,h.render)(M(),document.getElementById("header")),(0,h.render)(b(r),document.getElementById("chords")),(0,h.render)(w(e,n,(0,g.default)(e,n).join(", ")),document.getElementById("app"))}function a(){o({note:(0,v.default)(P),scale:(0,v.default)(x)})}var s=i(['<div class="Chord">',"</div>"],['<div class="Chord">',"</div>"]),u=i(["",""],["",""]),l=i([""," "," ",""],[""," "," ",""]),c=i(["<div>### click for random ###</div>"],["<div>### click for random ###</div>"]),h=n(11),f=n(12),d=r(f),m=n(2),v=r(m),p=n(25),g=r(p),y=function(t){return(0,h.html)(s,t)},b=function(t){return(0,h.html)(u,t.map(function(t){return y(t)}))},w=function(t,e,n){return(0,h.html)(l,t,e,n)},M=function(){return(0,h.html)(c)},x=["aeolian","dorian","harmonicminor","ionian","lydian","melodicminor","mixolydian","phrygian"],P=["c","c#","d","eb","e","f","f#","g","ab","a","bb","b"];a(),document.getElementById("header").addEventListener("click",a)},function(t,e,n){"use strict";function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t){var e=f.get(t.type);void 0===e&&(e=new Map,f.set(t.type,e));var n=e.get(t.strings);return void 0===n&&(n=new w(t,t.getTemplateElement()),e.set(t.strings,n)),n}function s(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a,r=n(t),i=e.__templateInstance;if(void 0!==i&&i.template===r&&i._partCallback===t.partCallback)return void i.update(t.values);i=new C(r,t.partCallback,n),e.__templateInstance=i;var o=i._clone();i.update(t.values),k(e,e.firstChild),e.appendChild(o)}function u(t){var e=t.lastIndexOf(">");return t.indexOf("<",e+1)>-1?t.length:e}Object.defineProperty(e,"__esModule",{value:!0});var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},h=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e.defaultTemplateFactory=a,e.render=s;/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
var f=e.templateCaches=new Map,d=(e.html=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return new d(t,n,"html")},e.svg=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return new m(t,n,"svg")},e.TemplateResult=function(){function t(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:N;o(this,t),this.strings=e,this.values=n,this.type=r,this.partCallback=i}return h(t,[{key:"getHTML",value:function(){for(var t=this.strings.length-1,e="",n=!0,r=0;r<t;r++){var i=this.strings[r];e+=i;var o=u(i);n=o>-1?o<i.length:n,e+=n?p:v}return e+=this.strings[t]}},{key:"getTemplateElement",value:function(){var t=document.createElement("template");return t.innerHTML=this.getHTML(),t}}]),t}()),m=e.SVGTemplateResult=function(t){function e(){return o(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),h(e,[{key:"getHTML",value:function(){return"<svg>"+c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getHTML",this).call(this)+"</svg>"}},{key:"getTemplateElement",value:function(){var t=c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getTemplateElement",this).call(this),n=t.content,r=n.firstChild;return n.removeChild(r),V(n,r.firstChild),t}}]),e}(d),v="{{lit-"+String(Math.random()).slice(2)+"}}",p="\x3c!--"+v+"--\x3e",g=new RegExp(v+"|"+p),y=/[ \x09\x0a\x0c\x0d]([^\0-\x1F\x7F-\x9F \x09\x0a\x0c\x0d"'>=\/]+)[ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*)$/,b=e.TemplatePart=function t(e,n,r,i,a){o(this,t),this.type=e,this.index=n,this.name=r,this.rawName=i,this.strings=a},w=e.Template=function t(e,n){o(this,t),this.parts=[],this.element=n;for(var r=this.element.content,i=document.createTreeWalker(r,133,null,!1),a=-1,s=0,u=[],l=void 0,c=void 0;i.nextNode();){a++,l=c;var h=c=i.currentNode;if(1===h.nodeType){if(!h.hasAttributes())continue;for(var f=h.attributes,d=0,m=0;m<f.length;m++)f[m].value.indexOf(v)>=0&&d++;for(;d-- >0;){var p=e.strings[s],w=y.exec(p)[1],M=f.getNamedItem(w),x=M.value.split(g);this.parts.push(new b("attribute",a,M.name,w,x)),h.removeAttribute(M.name),s+=x.length-1}}else if(3===h.nodeType){var P=h.nodeValue;if(P.indexOf(v)<0)continue;var _=h.parentNode,A=P.split(g),S=A.length-1;s+=S,h.textContent=A[S];for(var N=0;N<S;N++)_.insertBefore(document.createTextNode(A[N]),h),this.parts.push(new b("node",a++))}else if(8===h.nodeType&&h.nodeValue===v){var C=h.parentNode,V=h.previousSibling;null===V||V!==l||V.nodeType!==Node.TEXT_NODE?C.insertBefore(document.createTextNode(""),h):a--,this.parts.push(new b("node",a++)),u.push(h),null===h.nextSibling?C.insertBefore(document.createTextNode(""),h):a--,c=l,s++}}var k=!0,E=!1,T=void 0;try{for(var I,O=u[Symbol.iterator]();!(k=(I=O.next()).done);k=!0){var j=I.value;j.parentNode.removeChild(j)}}catch(t){E=!0,T=t}finally{try{!k&&O.return&&O.return()}finally{if(E)throw T}}},M=e.getValue=function(t,e){return x(e)?(e=e(t),P):null===e?void 0:e},x=(e.directive=function(t){return t.__litDirective=!0,t},function(t){return"function"==typeof t&&!0===t.__litDirective}),P=e.directiveValue={},_=function(t){return null===t||!("object"===(void 0===t?"undefined":l(t))||"function"==typeof t)},A=e.AttributePart=function(){function t(e,n,r,i){o(this,t),this.instance=e,this.element=n,this.name=r,this.strings=i,this.size=i.length-1,this._previousValues=[]}return h(t,[{key:"_interpolate",value:function(t,e){for(var n=this.strings,r=n.length-1,i="",o=0;o<r;o++){i+=n[o];var a=M(this,t[e+o]);if(a&&a!==P&&(Array.isArray(a)||"string"!=typeof a&&a[Symbol.iterator])){var s=!0,u=!1,l=void 0;try{for(var c,h=a[Symbol.iterator]();!(s=(c=h.next()).done);s=!0){i+=c.value}}catch(t){u=!0,l=t}finally{try{!s&&h.return&&h.return()}finally{if(u)throw l}}}else i+=a}return i+n[r]}},{key:"_equalToPreviousValues",value:function(t,e){for(var n=e;n<e+this.size;n++)if(this._previousValues[n]!==t[n]||!_(t[n]))return!1;return!0}},{key:"setValue",value:function(t,e){if(!this._equalToPreviousValues(t,e)){var n=this.strings,r=void 0;2===n.length&&""===n[0]&&""===n[1]?(r=M(this,t[e]),Array.isArray(r)&&(r=r.join(""))):r=this._interpolate(t,e),r!==P&&this.element.setAttribute(this.name,r),this._previousValues=t}}}]),t}(),S=e.NodePart=function(){function t(e,n,r){o(this,t),this.instance=e,this.startNode=n,this.endNode=r,this._previousValue=void 0}return h(t,[{key:"setValue",value:function(t){if((t=M(this,t))!==P)if(_(t)){if(t===this._previousValue)return;this._setText(t)}else t instanceof d?this._setTemplateResult(t):Array.isArray(t)||t[Symbol.iterator]?this._setIterable(t):t instanceof Node?this._setNode(t):void 0!==t.then?this._setPromise(t):this._setText(t)}},{key:"_insert",value:function(t){this.endNode.parentNode.insertBefore(t,this.endNode)}},{key:"_setNode",value:function(t){this._previousValue!==t&&(this.clear(),this._insert(t),this._previousValue=t)}},{key:"_setText",value:function(t){var e=this.startNode.nextSibling;t=void 0===t?"":t,e===this.endNode.previousSibling&&e.nodeType===Node.TEXT_NODE?e.textContent=t:this._setNode(document.createTextNode(t)),this._previousValue=t}},{key:"_setTemplateResult",value:function(t){var e=this.instance._getTemplate(t),n=void 0;this._previousValue&&this._previousValue.template===e?n=this._previousValue:(n=new C(e,this.instance._partCallback,this.instance._getTemplate),this._setNode(n._clone()),this._previousValue=n),n.update(t.values)}},{key:"_setIterable",value:function(e){Array.isArray(this._previousValue)||(this.clear(),this._previousValue=[]);var n=this._previousValue,r=0,i=!0,o=!1,a=void 0;try{for(var s,u=e[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var l=s.value,c=n[r];if(void 0===c){var h=this.startNode;if(r>0){h=n[r-1].endNode=document.createTextNode(""),this._insert(h)}c=new t(this.instance,h,this.endNode),n.push(c)}c.setValue(l),r++}}catch(t){o=!0,a=t}finally{try{!i&&u.return&&u.return()}finally{if(o)throw a}}if(0===r)this.clear(),this._previousValue=void 0;else if(r<n.length){var f=n[r-1];n.length=r,this.clear(f.endNode.previousSibling),f.endNode=this.endNode}}},{key:"_setPromise",value:function(t){var e=this;this._previousValue=t,t.then(function(n){e._previousValue===t&&e.setValue(n)})}},{key:"clear",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.startNode;k(this.startNode.parentNode,t.nextSibling,this.endNode)}}]),t}(),N=e.defaultPartCallback=function(t,e,n){if("attribute"===e.type)return new A(t,n,e.name,e.strings);if("node"===e.type)return new S(t,n,n.nextSibling);throw new Error("Unknown part type "+e.type)},C=e.TemplateInstance=function(){function t(e,n,r){o(this,t),this._parts=[],this.template=e,this._partCallback=n,this._getTemplate=r}return h(t,[{key:"update",value:function(t){var e=0,n=!0,r=!1,i=void 0;try{for(var o,a=this._parts[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;void 0===s.size?(s.setValue(t[e]),e++):(s.setValue(t,e),e+=s.size)}}catch(t){r=!0,i=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}}},{key:"_clone",value:function(){var t=document.importNode(this.template.element.content,!0),e=this.template.parts;if(e.length>0)for(var n=document.createTreeWalker(t,133,null,!1),r=-1,i=0;i<e.length;i++){for(var o=e[i];r<o.index;)r++,n.nextNode();this._parts.push(this._partCallback(this,o,n.currentNode))}return t}}]),t}(),V=e.reparentNodes=function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=e;i!==n;){var o=i.nextSibling;t.insertBefore(i,r),i=o}},k=e.removeNodes=function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=e;r!==n;){var i=r.nextSibling;t.removeChild(r),r=i}}},function(t,e,n){"use strict";function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"c",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ionian",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,r=i(n);return u(s.scale(t,e),r,4).chords.map(function(t){return t.name})}function i(t){for(var e=[1],n=1;n<t;n++)e.push((0,a.default)(l[e[e.length-1]]));return e}Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),a=function(t){return t&&t.__esModule?t:{default:t}}(o),s=n(3),u=n(21),l={1:[4,4,4,4,5,5,6,6,2,3],2:[5,5,5,5,4,4,6,6,1,3],3:[6,6,6,6,4,4,1,2,5],4:[5,5,5,5,1,1,2,2,3,6],5:[1,1,1,1,1,4,4,6,6,2,3],6:[2,2,2,2,5,5,3,3,4,1]};e.default=r},function(t,e,n){"use strict";var r=n(5),i=n(6);t.exports=function(t){var e=/^([a-h])(x|#|bb|b?)(-?\d*)/i,n=t.match(e);if(n&&t===n[0]&&n[3].length){var o=n[1],a=+n[3],s=n[2].length?n[2].toLowerCase():"",u=i.interval(s),l=r(o.toLowerCase());return l[0]+=a,l[0]+=u[0]-r.A4[0],l[1]+=u[1]-r.A4[1],l}}},function(t,e,n){"use strict";var r=n(5),i=n(6);t.exports=function(t){var t=t.replace(/\u2032/g,"'").replace(/\u0375/g,","),e=t.match(/^(,*)([a-h])(x|#|bb|b?)([,\']*)$/i);if(!e||t!==e[0])throw new Error("Invalid formatting");var n,o=e[2],a=e[1],s=e[4],u=o===o.toLowerCase();if(a){if(u)throw new Error("Invalid formatting - found commas before lowercase note");n=2-a.length}else if(s)if(s.match(/^'+$/)&&u)n=3+s.length;else{if(!s.match(/^,+$/)||u)throw new Error("Invalid formatting - mismatch between octave indicator and letter case");n=2-s.length}else n=u?3:2;var l=i.interval(e[3].toLowerCase()),c=r(o.toLowerCase());return c[0]+=n,c[0]+=l[0]-r.A4[0],c[1]+=l[1]-r.A4[1],c}},function(t,e,n){"use strict";t.exports=function(t,e){return"number"==typeof t?(e=t,function(t){return e*Math.pow(2,(12*t[0]+7*t[1])/12)}):(e=e||440)*Math.pow(2,(12*t[0]+7*t[1])/12)}},function(t,e,n){"use strict";var r=/^(AA|A|P|M|m|d|dd)(-?\d+)$/,i=[-4,7],o=["dd","d","P","A","AA"],a=["dd","d","m","M","A","AA"],s=[[0,0],[3,-5],[2,-3],[1,-1],[0,1],[3,-4],[2,-2],[1,0]];t.exports=function(t){var e=t.match(r);if(!e)return null;var n=e[1],u=+e[2],l=u<0?-1:1;u=l<0?-u:u;var c=u>8?u%7||7:u,h=(u-c)/7,f=s[c-1],d=f[0]<=1?o:a,m=d.indexOf(n)-2;return-3===m?null:[l*(f[0]+h+i[0]*m),l*(f[1]+i[1]*m)]},t.exports.coords=s.slice(0)},function(t,e,n){"use strict";function r(t,e){if(!(this instanceof r))return new r(t,e);e=e||"",this.name=t.name().toUpperCase()+t.accidental()+e,this.symbol=e,this.root=t,this.intervals=[],this._voicing=[];var n=e.split("/");if(2===n.length&&"9"!==n[1].trim()?(e=n[0],n=n[1].trim()):n=null,this.intervals=i(e).map(s.toCoord),this._voicing=this.intervals.slice(),n){var o,u,l=this.intervals;u=a.fromString(n+(t.octave()+1)),o=s.between(t,u),n=o.simple(),o=o.invert().direction("down"),this._voicing=[o];for(var c=0,h=l.length;c<h;c++)l[c].simple().equal(n)||this._voicing.push(l[c])}}var i=n(18),o=n(0),a=n(4),s=n(1);r.prototype={notes:function(){var t=this.root;return this.voicing().map(function(e){return t.interval(e)})},simple:function(){return this.notes().map(function(t){return t.toString(!0)})},bass:function(){return this.root.interval(this._voicing[0])},voicing:function(t){if(!t)return this._voicing;this._voicing=[];for(var e=0,n=t.length;e<n;e++)this._voicing[e]=s.toCoord(t[e]);return this},resetVoicing:function(){this._voicing=this.intervals},dominant:function(t){return t=t||"",new r(this.root.interval("P5"),t)},subdominant:function(t){return t=t||"",new r(this.root.interval("P4"),t)},parallel:function(t){t=t||"";var e=this.quality();if("triad"!==this.chordType()||"diminished"===e||"augmented"===e)throw new Error("Only major/minor triads have parallel chords");return"major"===e?new r(this.root.interval("m3","down"),"m"):new r(this.root.interval("m3","up"))},quality:function(){for(var t,e,n,r=this.intervals,i=0,o=r.length;i<o;i++)3===r[i].number()?t=r[i]:5===r[i].number()?e=r[i]:7===r[i].number()&&(n=r[i]);if(t)return t="down"===t.direction()?t.invert():t,t=t.simple().toString(),e&&(e="down"===e.direction?e.invert():e,e=e.simple().toString()),n&&(n="down"===n.direction?n.invert():n,n=n.simple().toString()),"M3"===t?"A5"===e?"augmented":"P5"===e&&"m7"===n?"dominant":"major":"m3"===t?"P5"===e?"minor":"d5"===e?"m7"===n?"half-diminished":"diminished":"minor":void 0},chordType:function(){var t,e,n,r,i,o=this.intervals.length;if(2===o)return"dyad";if(3===o){for(e={unison:!1,third:!1,fifth:!1},r=0;r<o;r++)t=this.intervals[r],n=t.invert(),t.base()in e?e[t.base()]=!0:n.base()in e&&(e[n.base()]=!0);i=e.unison&&e.third&&e.fifth?"triad":"trichord"}else if(4===o){for(e={unison:!1,third:!1,fifth:!1,seventh:!1},r=0;r<o;r++)t=this.intervals[r],n=t.invert(),t.base()in e?e[t.base()]=!0:n.base()in e&&(e[n.base()]=!0);e.unison&&e.third&&e.fifth&&e.seventh&&(i="tetrad")}return i||"unknown"},get:function(t){if("string"==typeof t&&t in o.stepNumber){var e,n,r=this.intervals;for(t=o.stepNumber[t],e=0,n=r.length;e<n;e++)if(r[e].number()===t)return this.root.interval(r[e]);return null}throw new Error("Invalid interval name")},interval:function(t){return new r(this.root.interval(t),this.symbol)},transpose:function(t){return this.root.transpose(t),this.name=this.root.name().toUpperCase()+this.root.accidental()+this.symbol,this},toString:function(){return this.name}},t.exports=r},function(t,e,n){"use strict";var r={m:["m3","P5"],mi:["m3","P5"],min:["m3","P5"],"-":["m3","P5"],M:["M3","P5"],ma:["M3","P5"],"":["M3","P5"],"+":["M3","A5"],aug:["M3","A5"],dim:["m3","d5"],o:["m3","d5"],maj:["M3","P5","M7"],dom:["M3","P5","m7"],"ø":["m3","d5","m7"],5:["P5"],"6/9":["M3","P5","M6","M9"]};t.exports=function(t){var e,n,i="quality",o=[],a=2,s=["P1","M3","P5","m7","M9","P11","M13"],u=!1;t=t.replace(/[,\s\(\)]/g,"");for(var l=0,c=t.length;l<c;l++){if(!(e=t[l]))return;if("quality"===i){var h=l+2<c?t.substr(l,3).toLowerCase():null,f=l+1<c?t.substr(l,2).toLowerCase():null;n=h in r?h:f in r?f:e in r?e:"",n&&function(t){for(var e=r[t],n=0,i=e.length;n<i;n++)s[n+1]=e[n];a=e.length}(n),"M"!==n&&"ma"!==n&&"maj"!==n||(u=!0),l+=n.length-1,i="extension"}else if("extension"===i){if(e="1"===e&&t[l+1]?+t.substr(l,2):+e,isNaN(e)||6===e)6===e?(s[3]="M6",a=Math.max(3,a)):l-=1;else{if((a=(e-1)/2)!==Math.round(a))return new Error("Invalid interval extension: "+e.toString(10));"o"===n||"dim"===n?s[3]="d7":u&&(s[3]="M7"),l+=e>=10?1:0}i="alterations"}else if("alterations"===i){var d=t.substr(l).split(/(#|b|add|maj|sus|M)/i),m=!1,v=!1;if(1===d.length)return new Error("Invalid alteration");if(0!==d[0].length)return new Error("Invalid token: '"+d[0]+"'");var p=!1;d.forEach(function(t,e,n){if(p||!t.length)return p=!1;var r=n[e+1],i=t.toLowerCase();if("M"===t||"maj"===i)"7"===r&&(p=!0),a=Math.max(3,a),s[3]="M7";else if("sus"===i){var u="P4";"2"!==r&&"4"!==r||(p=!0,"2"===r&&(u="M2")),s[1]=u}else if("add"===i)"9"===r?o.push("M9"):"11"===r?o.push("P11"):"13"===r&&o.push("M13"),p=!0;else if("b"===i)m=!0;else if("#"===i)v=!0;else{var l,c,h=+t;if(isNaN(h)||String(h).length!==t.length)return new Error("Invalid token: '"+t+"'");if(6===h)return s[3]=v?"A6":m?"m6":"M6",void(a=Math.max(3,a));if(c=(h-1)/2,a<c&&(a=c),h<5||7===h||c!==Math.round(c))return new Error("Invalid interval alteration: "+h);l=s[c][0],v?"d"===l?l="m":"m"===l?l="M":"M"!==l&&"P"!==l||(l="A"):m&&("A"===l?l="M":"M"===l?l="m":"m"!==l&&"P"!==l||(l="d")),v=m=!1,s[c]=l+h}}),i="ended"}else if("ended"===i)break}return s.slice(0,a+1).concat(o)}},function(t,e,n){"use strict";function r(t,e){if(!(this instanceof r))return new r(t,e);var n,i;if(!("coord"in t))throw new Error("Invalid Tonic");if("string"==typeof e){if(n=e,!(e=a[e]))throw new Error("Invalid Scale")}else for(i in a)if(a.hasOwnProperty(i)&&a[i].toString()===e.toString()){n=i;break}this.name=n,this.tonic=t,this.scale=e}var i=n(0),o=n(1),a={aeolian:["P1","M2","m3","P4","P5","m6","m7"],blues:["P1","m3","P4","d5","P5","m7"],chromatic:["P1","m2","M2","m3","M3","P4","A4","P5","m6","M6","m7","M7"],dorian:["P1","M2","m3","P4","P5","M6","m7"],doubleharmonic:["P1","m2","M3","P4","P5","m6","M7"],harmonicminor:["P1","M2","m3","P4","P5","m6","M7"],ionian:["P1","M2","M3","P4","P5","M6","M7"],locrian:["P1","m2","m3","P4","d5","m6","m7"],lydian:["P1","M2","M3","A4","P5","M6","M7"],majorpentatonic:["P1","M2","M3","P5","M6"],melodicminor:["P1","M2","m3","P4","P5","M6","M7"],minorpentatonic:["P1","m3","P4","P5","m7"],mixolydian:["P1","M2","M3","P4","P5","M6","m7"],phrygian:["P1","m2","m3","P4","P5","m6","m7"],wholetone:["P1","M2","M3","A4","A5","A6"]};a.harmonicchromatic=a.chromatic,a.minor=a.aeolian,a.major=a.ionian,a.flamenco=a.doubleharmonic,r.prototype={notes:function(){for(var t=[],e=0,n=this.scale.length;e<n;e++)t.push(this.tonic.interval(this.scale[e]));return t},simple:function(){return this.notes().map(function(t){return t.toString(!0)})},type:function(){var t=this.scale.length-2;if(t<8)return["di","tri","tetra","penta","hexa","hepta","octa"][t]+"tonic"},get:function(t){t="string"==typeof t&&t in i.stepNumber?i.stepNumber[t]:t;var e,n,r=this.scale.length;return t<0?(e=this.scale[t%r+r-1],n=Math.floor((t-1)/r)):t%r==0?(e=this.scale[r-1],n=t/r-1):(e=this.scale[t%r-1],n=Math.floor(t/r)),this.tonic.interval(e).interval(new o([n,0]))},solfege:function(t,e){return t?this.get(t).solfege(this,e):this.notes().map(function(t){return t.solfege(this,e)})},interval:function(t){return t="string"==typeof t?o.toCoord(t):t,new r(this.tonic.interval(t),this.scale)},transpose:function(t){var e=this.interval(t);return this.scale=e.scale,this.tonic=e.tonic,this}},r.KNOWN_SCALES=Object.keys(a),t.exports=r},function(t,e,n){"use strict";var r=n(0);t.exports=function(t){var e=t.Note,n=t.Chord,i=t.Scale;e.prototype.chord=function(t){return t=t in r.chordShort?r.chordShort[t]:t,new n(this,t)},e.prototype.scale=function(t){return new i(this,t)}}},function(t,e,n){"use strict";function r(t,e,n){if(!t||!e)throw new Error("Expected 2 arguments but received 0.");if(!t.notes||!t.transpose)throw new Error("Invalid argument: TeoriaScale.");if(!(e instanceof Array)||e.filter(function(t){return"number"!=typeof t}).length>0)throw new Error("Invalid argument: Integer Array.");if(n&&3!==n&&4!==n)throw new Error("Invalid argument: Supported chord lengths are 3 and 4.");this.chordLength=n||3,this.notes=t.notes(),this.chords=e.map(function(t){return this._parseChord(t-1)}.bind(this))}var i=n(22);r.prototype._parseChord=function(t){var e,n,r=this.notes[t],o=[];if(!r)throw new Error("Invalid Progression: Scale has "+this.notes.length+" degrees.");for(n=0;n<this.chordLength;n++)o.push(this.notes[(t+2*n)%this.notes.length]);return e=i.name(i.infer(o,!0)[0]),e=e.replace(/^([A-G]|b|#)+/,""),r.chord(e)},r.prototype.getChords=function(){return this.chords},r.prototype.getChord=function(t){return this.chords[t]},r.prototype.simple=function(){return this.chords.map(function(t){return t.notes().map(function(t){return t.toString()})})},t.exports=function(t,e,n){return new r(t,e,n)}},function(t,e,n){"use strict";var r=n(8),i=n(23),o=n(24);t.exports={infer:i,triads:r,name:o}},function(t,e,n){"use strict";var r=n(8),i=n(9);t.exports=function t(e,n){var o,a=[];if(n){var s=e.length;return e=e.map(function(t){return[t].concat(t.enharmonics())}),e=[].concat.apply([],e),a=i.k_combinations(e,s).map(function(e){return t(e)}),[].concat.apply([],a)}if(2===e.length){var u=e[0],l=u.interval(e[1]),c=l.value(),h=Math.abs(c);return 4!==h&&5!==h||"P"!==l.quality()?[]:(-5!==c&&4!==c||(u=e[1]),[{root:u.name().toUpperCase()+u.accidental(),type:"5",exts:[]}])}return o=r(e),o.forEach(function(t){for(var n=t.notes.map(function(t){return t.toString(!0)}),r=t.notes.map(function(t){return t.chroma()}),i=t.notes[0],o=[],s=e.filter(function(t){return-1===n.indexOf(t.toString(!0))}),u=0,l=s.length;u<l;u++){var c=s[u],h=i.interval(c);if(-1!==r.indexOf(c.chroma())||Math.abs(h.qualityValue())>2)return;h="down"===h.direction()?h.invert():h;var f=h.quality(),d=h.number();if(2===d||4===d)h.coord[0]++;else{if(3===d&&-1!==t.type.indexOf("sus"))return;if("A"===f&&2!==d&&4!==d)return;if("d"===f&&4!==d&&(7!==d||"dim"!==t.type))return;if("dd"===f||"AA"===f)return}o.push(h)}o.sort(function(t,e){return e.number()-t.number()}),a.push({root:i.name().toUpperCase()+i.accidental(),type:t.type,exts:o})}),a}},function(t,e,n){"use strict";function r(t,e){return""===t||"M"===t?e:"m"===t?t+e:"aug"===t?e+"#5":"m#5"===t?"m"+e+"#5":"dim"===t?"b7"===e?"dim7":"m"+e+"b5":"Mb5"===t?e+"b5":e+t}function i(t){var e=t.number().toString(),n=o[e]-t.qualityValue();return 1===n?"b":-1===n?"7"===e?"maj":"#":""}var o={6:1,7:0,9:1,11:0,13:1};t.exports=function(t){var e,n=t.root,o=t.type,a=t.exts;if(a.length)if(1===a.length){var s=a[0].number(),u=i(a[0]),l=6===s||7===s?u+s:"add"+u+s;e=r(o,l)}else console.log("chord",n,o,a.toString());else e=o;return/^[b#]/.test(e)?n+"("+e+")":n+e}},function(t,e,n){"use strict";function r(t,e){return o.default.note(t).scale(e).simple()}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var i=n(3),o=function(t){return t&&t.__esModule?t:{default:t}}(i)}]);